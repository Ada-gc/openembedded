DESCRIPTION = "E-Book reader"
SECTION = "opie/applications"
PRIORITY = "optional"
MAINTAINER = "Team Opie <opie@handhelds.org>"
LICENSE = "GPL"
PV = "1.1.6+cvs-${CVSDATE}"
APPNAME = "opie-reader"
APPTYPE = "binary"

SRC_URI = "cvs://anoncvs:anoncvs@cvs.handhelds.org/cvs;module=opie/noncore/apps/opie-reader \
           cvs://anoncvs:anoncvs@cvs.handhelds.org/cvs;module=opie/pics \
           cvs://anoncvs:anoncvs@cvs.handhelds.org/cvs;module=opie/apps"

S = "${WORKDIR}/opie-reader"

EXTRA_QMAKEVARS_POST += "LIBS+=-L${S}"

inherit opie

# FILES bin/opie-reader apps/Applications/opie-reader.desktop pics/opie-reader/*
do_install() {
        install -d ${D}${palmtopdir}/pics/${APPNAME}/ \ 
                   ${D}${palmtopdir}/lib/ \
                   ${D}${palmtopdir}/plugins/reader/data/ \
				   ${D}${palmtopdir}/plugins/reader/filters/ \
                   ${D}${palmtopdir}/plugins/reader/codecs/ 
        install -m 0644 ${WORKDIR}/pics/${APPNAME}/*.png ${D}${palmtopdir}/pics/${APPNAME}/

		for f in libAportis libPlucker libppms libCHM libWeasel libiSilo   
		do
			oe_libinstall -so -C ${S}/ $f ${D}/${palmtopdir}/plugins/reader/codecs/
		done

		for f in libreader_codec libreader_pdb libreader_pluckerbase
		do
			oe_libinstall -so -C ${S}/ $f ${D}/${palmtopdir}/lib/
		done
		oe_libinstall -so -C ${S}/ libHTMLfilter ${D}/${palmtopdir}/plugins/reader/filters/
		install -m 0644 ${S}/HTMLentities ${D}/${palmtopdir}/plugins/reader/data/
		
}

