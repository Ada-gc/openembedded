Index: ipaqscreen/brightness.c
===================================================================
RCS file: /cvs/gpe/base/gpe-conf/ipaqscreen/brightness.c,v
retrieving revision 1.13
retrieving revision 1.14
diff -u -r1.13 -r1.14
--- ipaqscreen/brightness.c	13 Jul 2003 08:40:13 -0000	1.13
+++ ipaqscreen/brightness.c	3 Jun 2004 17:35:23 -0000	1.14
@@ -23,7 +23,7 @@
 #include "../parser.h"
 
 #include <fcntl.h>
-#ifdef __arm__
+#ifdef MACH_IPAQ
 #include <sys/ioctl.h>
 #include <linux/h3600_ts.h>
 #define TS_DEV "/dev/touchscreen/0"
@@ -32,7 +32,7 @@
 
 void turn_light(int status)
 {
-#ifdef __arm__
+#ifdef MACH_IPAQ
   int fd;
   bl.mode=1;
   bl.pwr=status;
@@ -46,7 +46,7 @@
 
 int get_light_state ()
 {
-#ifndef __arm__
+#ifndef MACH_IPAQ
   return 10; // bl doesnt exit on i386 dev machines!
 #else
   struct h3600_ts_backlight tsbl;
@@ -83,7 +83,7 @@
 
 void set_brightness (int brightness)
 {
-#ifdef __arm__
+#ifdef MACH_IPAQ
   int fd;
 	
   if (brightness) 
@@ -102,7 +102,7 @@
 
 int get_brightness ()
 {
-#ifndef __arm__
+#ifndef MACH_IPAQ
   return 10; // bl doesnt exit on i386 dev machines!
 #else
   struct h3600_ts_backlight tsbl;
