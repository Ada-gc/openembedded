 arch/arm/mach-ixp4xx/Kconfig           |    8 ++++++++
 arch/arm/mach-ixp4xx/Makefile          |    1 +
 include/asm-arm/arch-ixp4xx/hardware.h |    1 +
 include/asm-arm/arch-ixp4xx/irqs.h     |    9 +++++++++
 4 files changed, 19 insertions(+)

--- linux-nas100d.orig/arch/arm/mach-ixp4xx/Kconfig	2005-11-16 22:29:00.000000000 +0100
+++ linux-nas100d/arch/arm/mach-ixp4xx/Kconfig	2005-11-16 22:29:52.000000000 +0100
@@ -71,6 +71,14 @@ config ARCH_PRPMC1100
 	  PrPCM1100 Processor Mezanine Module. For more information on
 	  this platform, see <file:Documentation/arm/IXP4xx>.
 
+config MACH_NAS100D
+	bool
+	prompt "NAS100D"
+	help
+	  Say 'Y' here if you want your kernel to support Iomega's
+	  NAS 100d device. For more information on this platform,
+	  see http://www.nslu2-linux.org/wiki/NAS100d/HomePage
+
 #
 # Avila and IXDP share the same source for now. Will change in future
 #
--- linux-nas100d.orig/arch/arm/mach-ixp4xx/Makefile	2005-11-16 22:29:00.000000000 +0100
+++ linux-nas100d/arch/arm/mach-ixp4xx/Makefile	2005-11-16 22:30:37.000000000 +0100
@@ -9,4 +9,5 @@ obj-$(CONFIG_MACH_IXDPG425)	+= ixdpg425-
 obj-$(CONFIG_ARCH_ADI_COYOTE)	+= coyote-pci.o coyote-setup.o
 obj-$(CONFIG_MACH_GTWX5715)	+= gtwx5715-pci.o gtwx5715-setup.o
 obj-$(CONFIG_MACH_NSLU2)	+= nslu2-pci.o nslu2-setup.o nslu2-power.o
+obj-$(CONFIG_MACH_NAS100D)	+= nas100d-pci.o nas100d-setup.o nas100d-power.o
 
--- linux-nas100d.orig/include/asm-arm/arch-ixp4xx/hardware.h	2005-11-16 22:29:18.000000000 +0100
+++ linux-nas100d/include/asm-arm/arch-ixp4xx/hardware.h	2005-11-16 22:31:08.000000000 +0100
@@ -45,5 +45,6 @@ extern unsigned int processor_id;
 #include "coyote.h"
 #include "prpmc1100.h"
 #include "nslu2.h"
+#include "nas100d.h"
 
 #endif  /* _ASM_ARCH_HARDWARE_H */
--- linux-nas100d.orig/include/asm-arm/arch-ixp4xx/irqs.h	2005-11-16 22:29:18.000000000 +0100
+++ linux-nas100d/include/asm-arm/arch-ixp4xx/irqs.h	2005-11-16 22:29:52.000000000 +0100
@@ -100,4 +100,13 @@
 #define        IRQ_NSLU2_PCI_INTB      IRQ_IXP4XX_GPIO10
 #define        IRQ_NSLU2_PCI_INTC      IRQ_IXP4XX_GPIO9
 
+/*
+ * NAS100D board IRQs
+ */
+#define        IRQ_NAS100D_PCI_INTA      IRQ_IXP4XX_GPIO11
+#define        IRQ_NAS100D_PCI_INTB      IRQ_IXP4XX_GPIO10
+#define        IRQ_NAS100D_PCI_INTC      IRQ_IXP4XX_GPIO9
+#define        IRQ_NAS100D_PCI_INTD      IRQ_IXP4XX_GPIO8
+#define        IRQ_NAS100D_PCI_INTE      IRQ_IXP4XX_GPIO7
+
 #endif
