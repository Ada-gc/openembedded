#@TYPE: Machine
#@NAME: Nokia 770 internet tablet
#@DESCRIPTION: Machine configuration for the Nokia 770, an omap 1710 based tablet
TARGET_ARCH = "arm"
IPKG_ARCHS = "all arm armv4 armv5te"

PREFERRED_PROVIDER_xserver = "xserver-kdrive"

# 800x480 is big enough for me
GUI_MACHINE_CLASS = "bigscreen"
GPE_EXTRA_DEPENDS += "gaim sylpheed"
GPE_EXTRA_INSTALL += "gaim sylpheed"

include conf/machine/handheld-common.conf

# Use tune-arm926 per default. Machine independent feeds should be built with tune-strongarm.
include conf/machine/tune-arm926ejs.conf


#size of the root partition (yes, it is 123 MB)
ROOT_FLASH_SIZE = "123"

#build omap1 till nokia releases the patches
PREFERRED_PROVIDER_virtual/kernel = "linux-omap1"
PREFERRED_VERSION_orinoco-modules = "0.15rc1"

BOOTSTRAP_EXTRA_DEPENDS = "virtual/kernel udev sysfsutils  \
pcmcia-cs apmd ppp wireless-tools console-tools irda-utils openswan wpa-supplicant-nossl lrzsz ppp-dialin"

BOOTSTRAP_EXTRA_RDEPENDS = "kernel        udev sysfsutils  \
pcmcia-cs apm  ppp wireless-tools irda-utils udev-utils console-tools"

# NFS Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-nfs kernel-module-lockd kernel-module-sunrpc"
# Crypto Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-des kernel-module-md5"
# SMB and CRAMFS
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-smbfs kernel-module-cramfs"
# Serial Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-8250 "
# Bluetooth Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-bluetooth kernel-module-l2cap kernel-module-rfcomm kernel-module-hci-vhci \
                             kernel-module-bnep kernel-module-hidp kernel-module-hci-uart kernel-module-sco"
# Infrared Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-irda kernel-module-ircomm kernel-module-ircomm-tty \
                             kernel-module-irlan kernel-module-irnet kernel-module-ir-usb"
# PPP Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-ppp-generic kernel-module-ppp-async"

#USB Gadget Modules
BOOTSTRAP_EXTRA_RDEPENDS += "kernel-module-gadgetfs kernel-module-g-file-storage kernel-module-g-serial \
							 kernel-module-g-ether"

